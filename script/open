  path="."
  items=()
  idx=1

  echo "ğŸ“‚ Listing: $path"
  for item in "$path"/*; do
    items+=( "$item" )
    printf "%2d) %s\n" "$idx" "$(basename "$item")"
    idx=$((idx+1))
  done

  echo
  read -p "Open â€” Type number from above: " choice

  if ! [[ "$choice" =~ ^[0-9]+$ ]] \
     || [ "$choice" -lt 1 ] \
     || [ "$choice" -gt "${#items[@]}" ]; then
    echo "Invalid selection." >&2
    return 1
  fi

  selected="${items[$((choice-1))]}"

  if [ -d "$selected" ]; then
    echo
    echo "ğŸ“ Directory â€” listing contents:"
    ls "$selected"
  elif [ -f "$selected" ]; then
    echo
    echo "ğŸ“„ File â€” opening in nano:"
    nano "$selected"
  else
    echo "â“ Neither file nor directory!" >&2
    return 1
  fi
